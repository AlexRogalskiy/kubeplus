

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Setting up development environment &#8212; KubePlus 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Comparison" href="comparison.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="comparison.html" title="Comparison"
             accesskey="P">previous</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">KubePlus 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Setting up development environment</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-development-environment">
<h1>Setting up development environment</h1>
<p>In order to develop KubePlus you need following tools:
<code class="docutils literal notranslate"><span class="pre">Golang</span> <span class="pre">(1.14.5),</span> <span class="pre">Python</span> <span class="pre">3,</span> <span class="pre">Docker</span> <span class="pre">(latest),</span> <span class="pre">Minikube</span> <span class="pre">(latest),</span> <span class="pre">kubectl</span> <span class="pre">(latest),</span> <span class="pre">helm</span> <span class="pre">(latest).</span></code></p>
<p>We provide a Vagrantfile that installs all these tools as part of provisioning the Vagrant VM. Using Vagrant is not a requirement for setting up local development environment though. You can also install these tools locally if that is more convenient for you.</p>
<div class="section" id="code-setup">
<h2>Code setup</h2>
<ul class="simple">
<li><p>Install Vagrant (latest)</p></li>
<li><p>Install VirtualBox (latest)</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone --depth <span class="m">1</span> https://github.com/cloud-ark/kubeplus.git
$ <span class="nb">cd</span> kubeplus
$ vagrant box add bento/ubuntu-18.04
$ vagrant up
</pre></div>
</div>
<p>Once Vagrant VM has started</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ vagrant ssh
$ sudo usermod -aG docker <span class="nv">$USER</span>
$ <span class="nb">exit</span>
$ vagrant ssh
$ docker ps
$ docker version
$ minikube version
$ kubectl version
$ helm version
$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/go/bin
$ go version
</pre></div>
</div>
<p>ADD PATH=$PATH:/usr/local/go/bin to ~/.profile</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ vi ~/.profile
    $ <span class="nb">source</span> ~/.profile
</pre></div>
</div>
<p>In case any of the above commands fail, you can manually install the tools inside
the Vagrant VM. Here is the command for installing Golang.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ wget -c https://dl.google.com/go/go1.14.5.linux-amd64.tar.gz -O - <span class="p">|</span> sudo tar -xz -C /usr/local
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">kubeplus</span></code> folder on your host machine is mapped under <code class="docutils literal notranslate"><span class="pre">/vagrant</span></code>
directory inside the Vagrant VM. Any files that you want to copy back from the Vagrant VM to the host, place them in <code class="docutils literal notranslate"><span class="pre">/vagrant</span></code> folder. Then access them from your host machine in the <code class="docutils literal notranslate"><span class="pre">kubeplus</span></code> folder.</p>
</div>
<div class="section" id="test-sample-examples">
<h2>Test sample examples</h2>
<p>Start the Minikube Kubernetes cluster.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ minikube start --driver<span class="o">=</span>docker
$ kubectl get pods -A
</pre></div>
</div>
<p>Once Kubernetes cluster is up, try the <code class="docutils literal notranslate"><span class="pre">hello-world</span></code> example by following steps from <a class="reference external" href="https://cloud-ark.github.io/kubeplus/docs/html/html/getting-started.html">getting started guide</a>.</p>
</div>
<div class="section" id="work-on-the-code">
<h2>Work on the code</h2>
<p>In order to work on the code, you can clone a fresh copy of the code and place it in the path where Golang compiler expects it (which is, <code class="docutils literal notranslate"><span class="pre">~/go/src/github.com/cloud-ark</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir -p go/src/github.com/cloud-ark
$ <span class="nb">cd</span> go/src/github.com/cloud-ark/
$ git clone --depth <span class="m">1</span> https://github.com/cloud-ark/kubeplus.git
$ <span class="nb">cd</span> kubeplus
</pre></div>
</div>
<p>If you donâ€™t want to re-clone kubeplus then create a symbolic link from <code class="docutils literal notranslate"><span class="pre">/vagrant</span></code> to
<code class="docutils literal notranslate"><span class="pre">~/go/src/github.com/cloud-ark</span></code>. As noted above, the <code class="docutils literal notranslate"><span class="pre">/vagrant</span></code> folder from inside your Vagrant VM is the mapped <code class="docutils literal notranslate"><span class="pre">kubeplus</span></code> folder on the host.</p>
</div>
<div class="section" id="platform-operator">
<h2>Platform Operator</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> platform-operator
$ <span class="nb">export</span> <span class="nv">GO111MODULE</span><span class="o">=</span>off
$ go build .
$ <span class="nb">cd</span> ..
</pre></div>
</div>
</div>
<div class="section" id="helm-pod">
<h2>Helm Pod</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> platform-operator/helm-pod
$ <span class="nb">export</span> <span class="nv">GO111MODULE</span><span class="o">=</span>on
$ go get github.com/googleapis/gnostic@v0.4.0
$ go build .
$ <span class="nb">cd</span> ../../
</pre></div>
</div>
</div>
<div class="section" id="mutating-webhook">
<h2>Mutating Webhook</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> mutating-webhook
$ go build .
$ <span class="nb">cd</span> ..
</pre></div>
</div>
</div>
<div class="section" id="mutating-webhook-helper">
<h2>Mutating Webhook Helper</h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> mutating-webhook-helper
$ go build .
$ <span class="nb">cd</span> ..
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="comparison.html" title="Comparison"
             >previous</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">KubePlus 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Setting up development environment</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>