#!/bin/bash

if (( $# < 1 )); then
    echo "kubectl retrieve kubeconfig provider <Namespace in which KubePlus is deployed> [--server=<api server url>]"
    echo " --server=<api server url> is an optional argument to pass the URL of the API server. Generated kubeconfig"
    echo " will embed this URL instead of the IP based URL that is generated by KubePlus."
    exit 0
fi

kubeplusNS=$1
serverURL='-1'
if (( $# == 2 )); then
	serverURL=$2
	#echo "Server URL:$serverURL"
fi

python /$KUBEPLUS_HOME/plugins/providerkubeconfigretriever.py $kubeplusNS $serverURL "provider"

#sed 's/'\''/"/'g $pkubeconfig | sed 's/u"/"/'g

